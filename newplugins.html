<!DOCTYPE html>
<head>
<link rel="shortcut icon" type="image/jpg" href="asset/icon.png">
<meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<meta property="og:type" content="website"/>
<link rel="preconnect" href="https://fonts.googleapis.com">
<title>Add Plugin | XQL</title>
<link rel="stylesheet" href="hex.css">
<script src="xcon.js"></script>
<script src="hex.js?v=1.0"></script>
<script src="query.js?v=1.0"></script>
<script src="que.js?v=1.0"></script>

</head>
<body>
<style>
        .mode {
        font-size: 25px;
        width: 35px; 
        height: 35px; 
        align-items: center;
        display: flex;
        justify-content: center;
        border: 0.1px solid black;
        border-radius: 50%;
    }
    #navhead {
        color: black;
    }
    #header-nav {
       color: black;
    }
    
</style>
<div id="nav"></div>
<br><br>
<insert data="plugins" table="plugins" call="history.go(0)">
<form left>
 <img border="0.5px solid grey" onclick="fileUp(); document.getElementById('filen').click()" src="asset/icon.png" id="upimg" width="100px" radius="10px">
<br>
<input type="file" hidden id="filen" name="logo">
<input hidden id="currkey" name="currkey">


<label size="15px" font="Outfit" >CONFIG FILE</label>
<br>
<input id="config" margin="5px top" type="file" size="15px" width="80%" placeholder="Plugin Config..." theme="smart">
<br><br>
<textarea hidden id="cfile" name="config"></textarea>
<label size="15px" font="Outfit" >JS FILE</label>
<br>
<input margin="5px top" type="file" size="15px" width="80%" placeholder="Plugin JS Code..." theme="smart" name="js">
    
<input hidden size="15px" width="80%" value="$js-makeid(8)" theme="smart" name="pass">

<br><br>
<label size="15px" font="Outfit" >Plugin Type</label>
<br>
<select margin="5px top" size="15px" width="80%" theme="smart" name="type">
<option value="tool">Tool/Utility</option>
<option value="hook">Hook/Modifier</option>
</select>
<br><br>
<input bold size="20px" theme="light shadow pulse" type="submit" value="Create">
    
</form>
</insert>   
 
<br><br>

<script>
document.getElementById('currkey').value = localStorage.getItem('xqlpass'); 

$IMPORT('Nav: nav.hex?v=88');
$START('logs'); 
document.getElementById('nav').Component('Nav');

$IMPORT('@UI');
$START('XQL:Ju2nPjkTtoSVjSq1FowB');

  function opeNav() {
document.getElementById("mySidenav").style.width = "250px";
}

function closNav() {
 document.getElementById("mySidenav").style.width = "0";
}

function fileUp() {
document.querySelector('#filen').addEventListener('change', function() {
 if (this.files && this.files[0]) {
let img = document.querySelector('#upimg'); // $('img')[0]
img.src = URL.createObjectURL(this.files[0]);
// set src to file url
    }
  });
}
document.querySelector('#config').addEventListener('change', function() {
  let event = this;

  const selectedFile = event.files[0];
  if (selectedFile) {
    const reader = new FileReader();


    reader.onload = function(fileEvent) {
      const fileContent = fileEvent.target.result;


console.log(fileContent);
document.getElementById('cfile').value = fileContent; 
  
    };
    
    


reader.readAsText(selectedFile, 'UTF-8'); // Specify the encoding (UTF-8 in this case)
  }
});




function nightM()  {
 document.body.style.background = 'black';
 document.body.style.color = 'white'; 
 toggle('#modes');
 toggle('#moden');
 localStorage.setItem("modex", "night");
}  

function dayM()  {
 document.body.style.background = 'white';
 document.body.style.color = 'black'; 
 toggle('#modes');
 toggle('#moden');
 localStorage.setItem("modex", "day");
}  


let currmode = localStorage.getItem("modex");   
setTimeout(function() {
if(currmode == "day") {   
document.getElementById('modes').click(); 
toggle('#modes');
 toggle('#moden');
}   

if(currmode == "night") {   
document.getElementById('moden').click(); 
} 
}, 500);  



</script>   
    
    
    
</body>
